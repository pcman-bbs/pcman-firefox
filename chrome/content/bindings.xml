<?xml version="1.0"?>

<bindings id="pcmanBindings"
          xmlns="http://www.mozilla.org/xbl"
          xmlns:xbl="http://www.mozilla.org/xbl"
          xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

  <binding id="tabbrowser" extends="chrome://browser/content/tabbrowser.xml#tabbrowser" display="browser">

    <implementation>

      <method name="updateIcon">
        <parameter name="aTab"/>
        <body>
          <![CDATA[
            var browser = this.getBrowserForTab(aTab);

        // -------------------
        try {
          if(browser.currentURI.scheme == 'telnet') {
            return;   // let pcman handle it
          }
  			} catch(e) {}
  			// -------------------
            
            if (!aTab.hasAttribute("busy") && browser.mIconURL)
              aTab.setAttribute("image", browser.mIconURL);
            else
              aTab.removeAttribute("image");
          ]]>
        </body>
      </method>

     </implementation>

  </binding>

</bindings>